<html>
	<body>
		<canvas id="canvas" width="600" height="400"></canvas>
		<script>
			(function(){
				var canvas = document.getElementById('canvas');
				var context = canvas.getContext('2d');

				var srcs = [
					'2.png',
					'1.png',
					'3.png',
					'4.png',
				];
				var images = [];
				for(var i in srcs){
					images[i] = new Image();
					images[i].src = srcs[i];
				}

				var loadedCount = 1;
				for(var i in images){
					images[i].addEventListener('load', function(){
						if(loadedCount == images.length){
							var x = 0;
							var y = 0;
							for(var j in images){
								context.drawImage(images[j], x, y, 150, 100);
								x += 50;
								y += 70;
							}
						}
						loadedCount++;
					}, false);
				}
			})();
		</script>
	</body>
</html>
